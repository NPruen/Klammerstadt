# Klammerstadt - Deutsches Bracket City

Rekursive Klammerrätsel!

## Lokalen Testserver aufsetzen

Hierfür kann man entweder VSCode-Extensions wie z.B [`Live Preview`](https://marketplace.visualstudio.com/items?itemName=ms-vscode.live-server) verwenden oder einfach mit Python:

```bash
python -m http.server
# oder
python3 -m http.server
```

Danach kann man die Seite auf Port `8000` finden:  `http://localhost:8000/index.html`.

## Eigene Rätsel

Eigene Rätsel können nun durch einen URL-Parameter geteilt werden. Der aktuelle Arbeitsablauf ist noch kompliziert aber funktioniert folgendermaßen:

1. Transformiere dein erstelltes Rätsel in ein JSON-Objekt das das gleiche Schema hat wie bereits erstellte Rätsel im `raetsel/`-Ordner.
2. (Am besten in der Konsole) Transformiere dein JSON-Objekt in einen escaped-string: `str = JSON.stringify(obj)`, wobei `obj` dein Rätsel-JSON-Objekt ist.
3. Dann kodierst du diesen String mit einer custom Methode: `console.log(encodeToURLSafeBase64(str))`.
4. Den langen String der nun auf der Konsole ausgegeben wurde, hängst du nun als unnamed Parameter an die URl an: `https://klammerstadt.de/?=<value>` wobei `<value>` dein langer String ist.
5. Diesen Link kann man nun teilen.

Beispielhaft kann man eins der Rätsel unter [dieser langen URL](https://Klammerstadt.de/?=ewogICAgIm5hbWUiOiJGYWNoc2NoYWZ0c2ZlaWVydGFnPyIsCiAgICAiYXV0aG9yIjoiTW9yaXR6IiwKICAgICJkYXR1bSI6IjA0LjA4LioqKioiLAogICAgImdlc2FtdGzDtnN1bmciOiJJbnRlcm5hdGlvbmFsZXIgRWhyZW50YWcgZGVyIEV1bGUiLAogICAgImVyZWlnbmlzamFociI6IiIsCiAgICAicsOkdHNlbCI6IltTY2jDvGxlcndvaG5vcnQg8J-Pq11bwrEgW19fX2VuOiBSZWNoZW5vcGVyYXRpb25dY2hlbl1bR1tTX19fIDogTsOkaG1hc2NoaW5lOyBCYW5kbWl0Z2xpZWQ7IEluZGV4IGbDvHIgbmV1cm9sb2dpc2NoZSBCZWhhbmRsdW5nXSBfX19dciBbR2V34oaSX19f4oaQW3VuZWJlbmVyIFdlZyBtaXQgdGllZmVuIF9fX2VuXXRdW1tcIkFsdCB3aWUgZWluIF9fX1wiXSBpbiBbX19fYsOkcnQgd2lyZCB2ZXJtaXNzdF1yIGRlciBbRGFzIPCfkqYgaGVyYXVzYmVrb21tZW4gZHVyY2ggYXVzd19fX2VuXWVdW1tfX19tZWwgPSBmcmFnd8O8cmRpZy12aWVsW3dhcyBTaWdtdW5kIEZyZXVkIHVuYWJzaWNodGxpY2ggdHV0XWRlciBBYndlaHJqb2dbXCLwn5G2IGRvbnQgX19fIG1lIG5vIG1vcmVcIl1dW3dhcyBbU3BpdHpbdm9yIGt1cnplbiBpbSBNYXRoZWJhdSBnZXRyZW5udF1lcl10cm9waG9iZW4gZsO8cmNodGVuXXNlbGxbZltfX19lbjogYW5kZXJlbiB6dWjDtnJlbjsgYmVzcGl0emVsbl1pZ2VzIFRpZXIsIGplZGVyIHNjaGVydCBzaWNoIGRydW0gZG9jaCBudXIgbWFuY2hlIHdvbGxlbiBlc110IEFiay5dIGRlciBbX19fcjogW0F1cnVtXVvwn4ep8J-HqiBiZVt6ZWlnZW47IGFuYWx5c2llcmVuXWRzdGVyIE11c2lrZXJdcyBiZVt3ZWlzZW47IGJlZ3JlaWZlbl1kc3RlciBbZnLDvGhlciBkdXJjaCBbW2Jlc3RlIFdbWl9fXzogTmFkZWxiYXVtIGF1cyBkZW4gQWxwZW4g8J-MsiwgYmVrYW5udCBmw7xyIE3DtmJlbCwgYW5nZWJsaWNoZSBIZWlsa3LDpGZ0ZSBvZGVyIFNjaG5hcHNdbFtPYiBFY2hzZW5tZW5zY2hlbiBkYSBkYXp1esOkaGxlbj8gKFBsdXJhbCldOyBOYWNobmFtZSAoUGx1cmFsKV0gZGVzIEphaHJlcyAyMDIwLCBuaWNodCB2ZXJsaWVidF0gdmVyYnVuZGVuZXIgS29ycmVzcG9uZGVudDsgZW50ZmVybnRlciBhYmVyIGVuZ2VyIEJla2FubnRlcjsgKFNpbmd1bGFyKV1dIiwKICAgICJmcmFnZUFudHdvcnQiOlsKICAgICAgICB7ImZyYWdlIjoiU2Now7xsZXJ3b2hub3J0IPCfj6siLCAiYW50d29ydCI6IkludGVybmF0In0sCiAgICAgICAgeyJmcmFnZSI6IsKxIFRlaWxjaGVuIiwgImFudHdvcnQiOiJpb24ifSwKICAgICAgICB7ImZyYWdlIjoiX19fZW46IFJlY2hlbm9wZXJhdGlvbiIsICJhbnR3b3J0IjoiVGVpbCJ9LAogICAgICAgIHsiZnJhZ2UiOiJHaW5nZXIgX19fIiwgImFudHdvcnQiOiJhbGUifSwKICAgICAgICB7ImZyYWdlIjoiU19fXyA6IE7DpGhtYXNjaGluZTsgQmFuZG1pdGdsaWVkOyBJbmRleCBmw7xyIG5ldXJvbG9naXNjaGUgQmVoYW5kbHVuZyIsICJhbnR3b3J0IjoiaW5nZXIifSwKICAgICAgICB7ImZyYWdlIjoiR2V34oaSX19f4oaQZnVyY2h0IiwgImFudHdvcnQiOiJFaHIifSwKICAgICAgICB7ImZyYWdlIjoidW5lYmVuZXIgV2VnIG1pdCB0aWVmZW4gX19fZW4iLCAiYW50d29ydCI6ImZ1cmNoIn0sCiAgICAgICAgeyJmcmFnZSI6IkJhdW0gaW4gSGVyciBkZXIgUmluZ2UiLCAiYW50d29ydCI6ImVudCJ9LAogICAgICAgIHsiZnJhZ2UiOiJcIkFsdCB3aWUgZWluIF9fX1wiIiwgImFudHdvcnQiOiJCYXVtIn0sCiAgICAgICAgeyJmcmFnZSI6Il9fX2LDpHJ0IHdpcmQgdmVybWlzc3QiLCAiYW50d29ydCI6IkhlciJ9LAogICAgICAgIHsiZnJhZ2UiOiJEYXMg8J-SpiBoZXJhdXNiZWtvbW1lbiBkdXJjaCBhdXN3X19fZW4iLCAiYW50d29ydCI6IlJpbmcifSwKICAgICAgICB7ImZyYWdlIjoiQWt0aWVuZ2VzZWxsc2NoYWZ0IEFiay4iLCAiYW50d29ydCI6ImFnIn0sCiAgICAgICAgeyJmcmFnZSI6Il9fX21lbCA9IGZyYWd3w7xyZGlnLXZpZWx2ZXJzcHJlY2hlbmRlciBBYndlaHJqb2dodXJ0IiwgImFudHdvcnQiOiJBa3RpIn0sCiAgICAgICAgeyJmcmFnZSI6IndhcyBTaWdtdW5kIEZyZXVkIHVuYWJzaWNodGxpY2ggdHV0IiwgImFudHdvcnQiOiJ2ZXJzcHJlY2hlbiJ9LAogICAgICAgIHsiZnJhZ2UiOiJcIvCfkbYgZG9udCBfX18gbWUgbm8gbW9yZVwiIiwgImFudHdvcnQiOiJodXJ0In0sCiAgICAgICAgeyJmcmFnZSI6IndhcyBLbGF1c3Ryb3Bob2JlbiBmw7xyY2h0ZW4iLCAiYW50d29ydCI6ImVuZ2UifSwKICAgICAgICB7ImZyYWdlIjoiU3BpdHptw7xsbGVyIiwgImFudHdvcnQiOiJLbGF1cyJ9LAogICAgICAgIHsiZnJhZ2UiOiJ2b3Iga3VyemVuIGltIE1hdGhlYmF1IGdldHJlbm50IiwgImFudHdvcnQiOiJtw7xsbCJ9LAogICAgICAgIHsiZnJhZ2UiOiJmbGF1c2NoaWdlcyBUaWVyLCBqZWRlciBzY2hlcnQgc2ljaCBkcnVtIGRvY2ggbnVyIG1hbmNoZSB3b2xsZW4gZXMiLCAiYW50d29ydCI6InNjaGFmIn0sCiAgICAgICAgeyJmcmFnZSI6Il9fX2VuOiBhbmRlcmVuIHp1aMO2cmVuOyBiZXNwaXR6ZWxuIiwgImFudHdvcnQiOiJsYXVzY2gifSwKICAgICAgICB7ImZyYWdlIjoiX19fcjogR29sZGJhY2hzIGJlZGV1dGVuZHN0ZXIgQnJpZWZmcmV1bmQiLCAiYW50d29ydCI6IkV1bGUifSwKICAgICAgICB7ImZyYWdlIjoiQXVydW0iLCAiYW50d29ydCI6IkdvbGQifSwKICAgICAgICB7ImZyYWdlIjoi8J-HqfCfh6ogYmVkZXV0ZW5kc3RlciBNdXNpa2VyIiwgImFudHdvcnQiOiJiYWNoIn0sCiAgICAgICAgeyJmcmFnZSI6InplaWdlbjsgYW5hbHlzaWVyZW4iLCAiYW50d29ydCI6ImRldXRlbiJ9LAogICAgICAgIHsiZnJhZ2UiOiJ3ZWlzZW47IGJlZ3JlaWZlbiIsICJhbnR3b3J0IjoiZGV1dGVuIn0sCiAgICAgICAgeyJmcmFnZSI6ImZyw7xoZXIgZHVyY2ggVGF1YmVuIHZlcmJ1bmRlbmVyIEtvcnJlc3BvbmRlbnQ7IGVudGZlcm50ZXIgYWJlciBlbmdlciBCZWthbm50ZXI7IChTaW5ndWxhcikiLCAiYW50d29ydCI6IkJyaWVmZnJldW5kIn0sCiAgICAgICAgeyJmcmFnZSI6IlbDtmdlbCBkZXMgSmFocmVzIDIwMjAsIG5pY2h0IHZlcmxpZWJ0IiwgImFudHdvcnQiOiJUYXViZW4ifSwKICAgICAgICB7ImZyYWdlIjoiYmVzdGUgV2lyYmVsdGllcmU7IE5hY2huYW1lIChQbHVyYWwpIiwgImFudHdvcnQiOiJWw7ZnZWwifSwKICAgICAgICB7ImZyYWdlIjoiWl9fXzogTmFkZWxiYXVtIGF1cyBkZW4gQWxwZW4g8J-MsiwgYmVrYW5udCBmw7xyIE3DtmJlbCwgYW5nZWJsaWNoZSBIZWlsa3LDpGZ0ZSBvZGVyIFNjaG5hcHMiLCAiYW50d29ydCI6ImlyYmUifSwKICAgICAgICB7ImZyYWdlIjoiT2IgRWNoc2VubWVuc2NoZW4gZGEgZGF6dXrDpGhsZW4_IChQbHVyYWwpIiwgImFudHdvcnQiOiJUaWVyZSJ9CiAgICBdCn0) aufrufen

## Zukünftige Features

- [ ] Metainfos zu Rätsel anzeigen
- [ ] Auswahl zwischen vorgespeicherten Rätsel
- [ ] Rätseltemplate und Anleitung um ein eigenes Rätsel zu erstellen
- [ ] Rätsel hochladbar und permanent speicherbar machen (mit Datenbankanbindung)
- [ ] Aktuellen Lösungsstatus im Browser speichern.
Erweiterungen:
